{
  "branch": "ralph/notification-center",
  "description": "Notification center with bell icon next to cart, dropdown panel showing new products and blog posts, localStorage-based read state tracking.",
  "userStories": [
    {
      "id": "US-001",
      "title": "Create NotificationIcon component",
      "description": "As a developer, I want a bell/notification icon in the shared UI package so that it matches the existing icon pack style.",
      "acceptance": [
        "Icon added at `packages/ui/src/icons/NotificationIcon.tsx`",
        "Icon exported from `packages/ui/src/icons/index.ts`",
        "Icon follows same props pattern as `BagIcon` (className, size, etc.)",
        "Typecheck passes (`pnpm typecheck`)"
      ],
      "priority": 1,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Create notifications MDX content file",
      "description": "As a content editor, I want an MDX file to define notifications so that I can manually control what notifications appear.",
      "acceptance": [
        "File created at `apps/website/app/content/notifications.mdx`",
        "Exports a `notifications` array with structure: `{ id, type, title, description, href, date }`",
        "Type can be `'product'` or `'blog'`",
        "Contains 2-3 example notifications",
        "Typecheck passes (`pnpm typecheck`)"
      ],
      "priority": 2,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Create API route for notifications",
      "description": "As a developer, I want an API endpoint that returns the notifications list so that the dropdown can fetch data dynamically.",
      "acceptance": [
        "Route created at `apps/website/app/routes/api.notifications.tsx`",
        "Returns JSON array of notifications from the MDX content",
        "Each notification includes: id, type, title, description, href, date",
        "Typecheck passes (`pnpm typecheck`)"
      ],
      "priority": 3,
      "passes": true,
      "notes": "Converted notifications from MDX to TypeScript file for proper typing"
    },
    {
      "id": "US-004",
      "title": "Create useNotifications hook with localStorage",
      "description": "As a developer, I want a hook to manage notification read state so that users don't see the badge after viewing notifications.",
      "acceptance": [
        "Hook created at `apps/website/app/hooks/useNotifications.ts`",
        "Fetches notifications from `/api/notifications`",
        "Tracks read notification IDs in localStorage (key: `wakey-read-notifications`)",
        "Exposes: `notifications`, `unreadCount`, `hasUnread`, `markAsRead`, `markAllAsRead`",
        "`hasUnread` returns true if any notification ID is not in localStorage",
        "Typecheck passes (`pnpm typecheck`)"
      ],
      "priority": 4,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Create NotificationDropdown component",
      "description": "As a developer, I want a dropdown panel component that displays notifications so that users can see what's new.",
      "acceptance": [
        "Component created at `apps/website/app/components/NotificationDropdown.tsx`",
        "Matches NavigationDropdown animation pattern (grid-template-rows transition)",
        "Shows list of notifications with title, description, and type indicator",
        "Each notification links to the relevant page (product or blog post)",
        "Clicking a notification calls `onClose` and marks it as read",
        "Typecheck passes (`pnpm typecheck`)",
        "Verify in browser using chrome-devtools MCP"
      ],
      "priority": 5,
      "passes": true,
      "notes": "Also includes US-008 type indicators (New Product/New Post labels) and read/unread styling"
    },
    {
      "id": "US-006",
      "title": "Add notification icon with badge to Header",
      "description": "As a user, I want to see a notification icon next to the cart so that I know there's something new to check.",
      "acceptance": [
        "NotificationIcon added to Header component next to cart/bag icon",
        "Dot badge appears when `hasUnread` is true (positioned top-right of icon)",
        "Badge uses `bg-softorange` color for visibility",
        "Clicking icon toggles NotificationDropdown open/closed",
        "Only one dropdown can be open at a time (nav or notifications)",
        "Typecheck passes (`pnpm typecheck`)",
        "Verify in browser using chrome-devtools MCP"
      ],
      "priority": 6,
      "passes": true,
      "notes": "Added NotificationButton component with badge, integrated NotificationDropdown, implemented mutual exclusion with nav dropdown"
    },
    {
      "id": "US-007",
      "title": "Add close-on-outside-click behavior",
      "description": "As a user, I want the notification dropdown to close when I click outside so that I can dismiss it easily.",
      "acceptance": [
        "Clicking outside the dropdown closes it",
        "Clicking the notification icon when open closes it",
        "Pressing Escape key closes the dropdown",
        "Typecheck passes (`pnpm typecheck`)",
        "Verify in browser using chrome-devtools MCP"
      ],
      "priority": 7,
      "passes": true,
      "notes": "Added Escape key handler to existing useEffect. Click-outside and toggle behaviors were already working from US-006."
    },
    {
      "id": "US-008",
      "title": "Style notification items with type indicators",
      "description": "As a user, I want to visually distinguish product vs blog notifications so that I know what type of content is new.",
      "acceptance": [
        "Product notifications show a small product icon or 'New Product' label",
        "Blog notifications show a small article icon or 'New Post' label",
        "Unread notifications have a subtle highlight or dot indicator",
        "Read notifications appear slightly dimmed",
        "Typecheck passes (`pnpm typecheck`)",
        "Verify in browser using chrome-devtools MCP"
      ],
      "priority": 8,
      "passes": true,
      "notes": "Implemented as part of US-005 NotificationDropdown component"
    }
  ]
}
