{
  "branch": "ralph/checkout-experience",
  "description": "Improve the checkout experience by adding an 'Added to Bag' popup notification when items are added to cart, redesigning the cart page to match Polaroid's clean layout, and streamlining navigation by linking the header cart button directly to the cart page.",
  "userStories": [
    {
      "id": "US-001",
      "title": "Create AddedToBagPopup component structure",
      "description": "As a developer, I want to create the base popup component so that it can display added item information.",
      "acceptance": [
        "Component created at `apps/website/app/components/AddedToBagPopup.tsx`",
        "Props interface includes: `isOpen`, `onClose`, `product` (image, title, variant info, price), `cartCount`, `checkoutUrl`",
        "Component renders nothing when `isOpen` is false",
        "Typecheck passes (`pnpm typecheck`)"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Completed - component created with props interface"
    },
    {
      "id": "US-002",
      "title": "Style AddedToBagPopup to match design system",
      "description": "As a user, I want the popup to have consistent styling so that it feels part of the Wakey brand.",
      "acceptance": [
        "Popup uses `bg-black text-sand` color scheme (matching On Running dark theme)",
        "Uses `rounded-card` for border radius",
        "Uses type scale utilities: `text-s2` for 'Added to your bag' title, `text-paragraph` for product name, `text-small` for variant details",
        "Close button (X) positioned top-right using `CrossIcon` from @wakey/ui",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Add product info layout to popup",
      "description": "As a user, I want to see the product I just added so that I can confirm my selection.",
      "acceptance": [
        "Left side shows product thumbnail image (square, ~80px)",
        "Right side shows: product title, variant info (e.g., 'Mighty Citrus'), price",
        "Layout uses flexbox with gap-4",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Add action buttons to popup",
      "description": "As a user, I want buttons to navigate to my bag or checkout so that I can complete my purchase.",
      "acceptance": [
        "Two buttons side by side: 'Your bag (X)' and 'Checkout'",
        "'Your bag' button uses outline variant (border with transparent bg, text-sand border-sand)",
        "'Checkout' button uses primary variant (solid bg-sand text-black)",
        "'Your bag' links to `/cart` page",
        "'Checkout' links to Shopify checkout URL",
        "Cart count (X) updates to show total items",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Position popup above sticky ATC",
      "description": "As a user, I want the popup to appear floating above the sticky ATC bar so that it's clearly visible.",
      "acceptance": [
        "Popup is fixed position, same width as sticky ATC",
        "Positioned directly above sticky ATC with small gap (8px)",
        "Horizontally centered like sticky ATC",
        "Z-index higher than sticky ATC",
        "Typecheck passes",
        "Verify in browser using chrome-devtools MCP"
      ],
      "priority": 5,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Add slide-up animation to popup",
      "description": "As a user, I want smooth animation so that the popup feels polished.",
      "acceptance": [
        "Popup slides up from below when opening (translateY animation)",
        "Uses `ease-out-expo` easing from design system",
        "Animation duration ~300ms",
        "Fades out when closing",
        "Typecheck passes"
      ],
      "priority": 6,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Integrate popup with StickyAddToCart",
      "description": "As a user, I want the popup to appear when I add items from sticky ATC so that I get feedback.",
      "acceptance": [
        "Popup opens automatically after successful cart add",
        "Popup receives product data from the item just added",
        "Popup stays open until user clicks close (X), 'Your bag', or 'Checkout'",
        "Clicking outside popup does NOT close it (no backdrop)",
        "Popup floats without dimming the page background",
        "Typecheck passes",
        "Verify in browser using chrome-devtools MCP"
      ],
      "priority": 7,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Add AddedToBagPopup to design system page",
      "description": "As a developer, I want to see the popup documented so that I understand how to use it.",
      "acceptance": [
        "New section 'Added to Bag Popup' added under 'Sticky Add to Cart' section",
        "Shows popup in static open state with mock product data",
        "Brief description of component purpose and props",
        "Typecheck passes"
      ],
      "priority": 8,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "Update cart page layout to 2-column on desktop",
      "description": "As a user, I want to see items and summary side-by-side on desktop so that I can review my order efficiently.",
      "acceptance": [
        "Desktop (md+): 2-column grid - items (left ~65%), summary (right ~35%)",
        "Mobile: single column, items stacked above summary",
        "Page title 'Bag' at top using `text-h1 font-display`",
        "Consistent padding using design system spacing",
        "Typecheck passes",
        "Verify in browser using chrome-devtools MCP"
      ],
      "priority": 9,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "Redesign cart line item component",
      "description": "As a user, I want clean line item cards so that I can easily see what's in my cart.",
      "acceptance": [
        "Card has subtle border (like Polaroid)",
        "Layout: image left, product info + controls right",
        "Product image on light background (bg-sand or bg-skyblue)",
        "Shows: product title, variant name, price",
        "Remove button (X) positioned top-right of card",
        "Typecheck passes"
      ],
      "priority": 10,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-011",
      "title": "Add quantity controls to line item",
      "description": "As a user, I want to adjust quantities so that I can buy more or fewer items.",
      "acceptance": [
        "Quantity selector with minus (-) and plus (+) buttons",
        "Current quantity displayed between buttons",
        "Minus button disabled when quantity is 1",
        "Buttons trigger cart line update",
        "Optimistic UI updates immediately",
        "Typecheck passes",
        "Verify in browser using chrome-devtools MCP"
      ],
      "priority": 11,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-012",
      "title": "Create free shipping progress bar component",
      "description": "As a user, I want to see how close I am to free shipping so that I might add more items.",
      "acceptance": [
        "Component created at `apps/website/app/components/FreeShippingBar.tsx`",
        "Props: `currentTotal` (number) - threshold hardcoded at 80 euros",
        "Shows progress bar filling left to right",
        "Text shows amount remaining: 'X euros away from free shipping'",
        "When threshold met, shows 'Congrats! You get free standard shipping.'",
        "Typecheck passes"
      ],
      "priority": 12,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-013",
      "title": "Style free shipping progress bar",
      "description": "As a user, I want the progress bar to look polished and match the design system.",
      "acceptance": [
        "Bar uses `bg-sand` for track, `bg-softorange` for fill",
        "Bar has subtle rounded corners",
        "Text uses `text-small` or `text-body-small`",
        "Smooth width transition when total changes",
        "Typecheck passes",
        "Verify in browser using chrome-devtools MCP"
      ],
      "priority": 13,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-014",
      "title": "Add payment method icons",
      "description": "As a developer, I want payment icons available so that they can be displayed in cart summary.",
      "acceptance": [
        "Icons added to `packages/ui/src/icons/`: Mastercard, Visa, Amex, Klarna, ApplePay, Bancontact, iDEAL, Sofort, PayPal",
        "Each icon exported from `packages/ui/src/index.ts`",
        "Icons are SVG components with consistent sizing props",
        "Typecheck passes"
      ],
      "priority": 14,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-015",
      "title": "Redesign cart summary section",
      "description": "As a user, I want a clear summary showing totals and checkout options.",
      "acceptance": [
        "Free shipping bar at top of summary",
        "Shows 'Total items: X' row",
        "Shows 'Total: XX.XX euros' row with `text-h3` styling",
        "Large 'CHECKOUT' button (full width, `bg-black text-sand`)",
        "Payment icons displayed in row below checkout button",
        "'Free standard shipping on orders over 80 euros' text below icons",
        "Typecheck passes",
        "Verify in browser using chrome-devtools MCP"
      ],
      "priority": 15,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-016",
      "title": "Handle empty cart state",
      "description": "As a user, I want clear feedback when my cart is empty so that I know to add items.",
      "acceptance": [
        "Shows message 'Your bag is empty'",
        "Shows 'Continue shopping' link to homepage or products",
        "Centered layout with appropriate spacing",
        "Typecheck passes"
      ],
      "priority": 16,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-017",
      "title": "Update header cart button to link to /cart page",
      "description": "As a user, I want to click the cart button to go to the cart page so that navigation is direct.",
      "acceptance": [
        "Cart button in header is now a link to `/cart`",
        "No longer opens cart drawer",
        "Cart count badge still displays",
        "Hover state preserved",
        "Typecheck passes",
        "Verify in browser using chrome-devtools MCP"
      ],
      "priority": 17,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-018",
      "title": "Remove cart drawer from PageLayout",
      "description": "As a developer, I want to clean up unused cart drawer code so that the codebase stays maintainable.",
      "acceptance": [
        "Cart Aside component removed from PageLayout",
        "Cart drawer context/state removed if no longer needed",
        "Mobile menu drawer still functional",
        "No console errors or warnings",
        "Typecheck passes"
      ],
      "priority": 18,
      "passes": false,
      "notes": ""
    }
  ]
}
